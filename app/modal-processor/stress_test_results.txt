
============================================================
STRESS TEST SUITE - Modal Processor
Started: 2025-12-03 23:55:44
============================================================

============================================================
TEST: Large Batch (100 rows, web_search=False)
============================================================
Rows: 100
Tools: []
Starting at: 23:55:44
Firing 100 concurrent requests to /test endpoint...
  Progress: 20/100 (12.4s)
  Progress: 40/100 (21.6s)
  Progress: 60/100 (36.1s)
  Progress: 80/100 (44.3s)
  Progress: 100/100 (55.6s)

Results:
  Duration: 55.6s
  Rows/second: 1.80
  Successful: 100/100
  Failed: 0/100
  Error rate: 0.0%

============================================================
TEST: Concurrent Batches (5 batches x 20 rows)
============================================================
Total requests: 100
Simulating 5 concurrent users...
  User 1: 20 rows
  User 2: 20 rows
  User 3: 20 rows
  User 4: 20 rows
  User 5: 20 rows

Starting all 5 users simultaneously...
  User 1: 20/20 successful
  User 2: 20/20 successful
  User 3: 20/20 successful
  User 4: 20/20 successful
  User 5: 20/20 successful

Aggregated Results:
  Total duration: 67.5s
  Total rows: 100
  Rows/second: 1.48
  Error rate: 0.0%

============================================================
TEST: Rate Limits (50 rapid requests)
============================================================
Firing 50 concurrent /test requests...

Results:
  Duration: 20.1s
  Requests/second: 2.5
  Successful: 50/50
  Rate limited (429): 0
  Timeouts: 0
  Other errors: 0

============================================================
TEST: Error Handling
============================================================
  Testing: Missing row... HTTP 200 - OK
  Testing: Empty prompt... HTTP 200 - OK
  Testing: Invalid schema... HTTP 200 - OK
  Testing: Missing placeholder... HTTP 200 - OK
  Testing: Unknown tool... HTTP 200 - OK

Results:
  Handled gracefully: 5/5

============================================================
STRESS TEST REPORT
============================================================

large_batch_100:
  Status: PASS
  Duration: 55.6s
  Rows: 100/100 successful
  Error rate: 0.0%
  Throughput: 1.80 rows/s

concurrent_batches:
  Status: PASS
  Duration: 67.5s
  Rows: 100/100 successful
  Error rate: 0.0%
  Throughput: 1.48 rows/s

rate_limits:
  Status: PASS
  Duration: 20.1s
  Rows: 50/50 successful
  Error rate: 0.0%
  Throughput: 2.49 rows/s

error_handling:
  Status: PASS
  Duration: 19.3s
  Rows: 5/5 successful
  Error rate: 0.0%

------------------------------------------------------------
OVERALL: ALL TESTS PASSED
Total duration: 162.6s
------------------------------------------------------------
